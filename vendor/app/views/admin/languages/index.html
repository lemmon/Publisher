{% extends 'admin/layout.html' %}

{% block title %}{{ "Languages"|t }}{% endblock %}

{% block container_title_actions %}
<a href="{{ link.to(":create") }}">{{ "Create new"|t }} &rarr;</a>
{% endblock %}

{% block content %}

	{% if (data) %}
	<table cellspacing="0" width="100%">

		<thead>
			<tr>
				<th width="1">&nbsp;</th>
				<th width="100%">{{ "Name"|t }}</th>
				<th width="1" class="nowrap ar">{{ "Stav"|t }}</th>
				<th width="1" class="nowrap ac sel">{{ "Default"|t }} &uarr;</th>
				<th width="1" class="nowrap ar">{{ "Created At"|t }}</th>
				<th width="1">&nbsp;</th>
			</tr>
		</thead>
		<tbody>

			{% for item in data %}
			<tr class="{{ cycle(["even", "odd"], loop.index) }}">
				<td class="tag" style="padding-right:0">
					<span class="">{{ item.code }}</span>
				</td>
				<td>
					<a href="{{ link.toReturn(":update", item) }}" class="strong">{{ item.country.language_local }}</a>
					<em class="gray">{{ item.countries.pairs("id", "name_short")|join(", ") }}</em>
				</td>
				<td class="nowrap ar tag">
					<span class="{{ item.state.color }}">{{ item.state|t }}</span>
				</td>
				<td class="strong nowrap ac tag sel">
					{% if (item.field("default")) %}
					<span class="dark">{{ "default"|t }}</span>
					{% else %}
					&nbsp;
					{% endif %}
				</td>
				<td class="tiny gray nowrap ar">{{ item.created_at|tDateTime }}</td>
				<td class="nowrap">
					<a href="{{ link.toReturn(":update", item) }}">{{ "Update"|t }}</a> |
					<a href="{{ link.toReturn(":delete", item) }}" onclick="return confirm('Are you sure to delete this entry?')">{{ "Delete"|t }}</a>
				</td>
			</tr>
			{% endfor %}

		</tbody>
		<tfoot>
			<tr>
				<td colspan="7">&nbsp;</td>
			</tr>
		</tfoot>

	</table>
	{% else %}
	<p>
		
		Oops, no items found&hellip;
		
	</p>
	{% endif %}
	
{% endblock %}